(this.webpackJsonppetshop=this.webpackJsonppetshop||[]).push([[0],{29:function(t,e,c){},31:function(t,e,c){},37:function(t,e,c){},38:function(t,e,c){},39:function(t,e,c){},40:function(t,e,c){},41:function(t,e,c){},42:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c(1),s=c.n(r),a=c(21),i=c.n(a),d=c(12),j=c(7),o=c(13),u=c(8),l=c(2),b=(c(29),c(17)),h=c.n(b),O=c(22),x=(c(31),function(t){var e=t.products,c=t.addItem,r=t.searchText;return console.log("product",e),e.filter((function(t){return t.title.toLowerCase().includes(r)})).map((function(t){return Object(n.jsxs)("div",{className:"product-card",children:[Object(n.jsx)("div",{className:"product-image",children:Object(n.jsx)("img",{src:t.image.src,alt:"product.title"})}),Object(n.jsxs)("div",{className:"product-info",children:[Object(n.jsx)(u.b,{to:{pathname:"/products/".concat(t.id),state:{product:t}},children:t.title}),Object(n.jsxs)("div",{className:"price",children:[Object(n.jsxs)("p",{children:[t.variants[0].priceV2.amount,"\u20ac "]}),Object(n.jsx)("span",{className:"ribbonText",children:t.metadata.accentuate.ribbonText1})]}),Object(n.jsxs)("div",{className:"card-links",children:[Object(n.jsx)("button",{className:"add-to-cart-btn",onClick:function(){return c(t)},children:"Add to cart"}),Object(n.jsx)(u.b,{to:{pathname:"/products/".concat(t.id),state:{product:t}},children:"View Details"})]})]})]},t.id)}))}),p=(c(37),function(t){var e=t.updateSearchText,c=t.searchText;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"search-for-products",children:[Object(n.jsx)("h3",{children:"Search"}),Object(n.jsx)("input",{className:"search-bar",placeholder:"Search for products...",value:c,onChange:function(t){e(t.target.value)}})]})})}),m=(c(38),function(t){var e=t.addItem,c=Object(r.useState)([]),s=Object(o.a)(c,2),a=s[0],i=s[1],j=Object(r.useState)(""),u=Object(o.a)(j,2),l=u[0],b=u[1],m=function(){var t=Object(O.a)(h.a.mark((function t(){var e,c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://pt-productfeed.s3.eu-central-1.amazonaws.com/products.json");case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,n=c.products.filter((function(t,e,c){return c.findIndex((function(e){return e.id===t.id}))===e})),i(n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){m()}),[]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"search-bar-container",children:[Object(n.jsx)(p,{updateSearchText:function(t){b(t)},searchText:l}),Object(n.jsx)("button",{onClick:function(){var t=Object(d.a)(a).sort((function(t,e){return e.variants[0].priceV2.amount-t.variants[0].priceV2.amount}));i(t)},children:"Higher priced items \u2191"}),Object(n.jsx)("button",{onClick:function(){var t=Object(d.a)(a).sort((function(t,e){return t.variants[0].priceV2.amount-e.variants[0].priceV2.amount}));i(t)},children:"Lower priced items \u2193"})]}),Object(n.jsx)("div",{className:"products",children:Object(n.jsx)(x,{products:a,addItem:e,searchText:l})})]})}),f=(c(39),function(t){var e=t.location,c=t.addItem,r=e.state.product;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"product-details-page",children:[Object(n.jsx)("div",{className:"product-gallery",children:Object(n.jsx)("img",{src:r.image.src,alt:"product"})}),Object(n.jsxs)("div",{className:"product-description",children:[Object(n.jsx)("h2",{children:r.title}),Object(n.jsxs)("h4",{children:["Subtitle: ",r.metadata.accentuate.subTitle]}),Object(n.jsxs)("h2",{children:[r.variants[0].priceV2.amount," Euro"]}),Object(n.jsx)("button",{className:"add-to-cart-btn",onClick:function(){return c(r)},children:"Add to Cart"}),Object(n.jsxs)("p",{className:"tags",children:["Tags:"," ",r.tags.map((function(t){return Object(n.jsxs)("span",{children:["'",t,"', "]})}))]})]})]})})}),v=(c(40),function(t){var e=t.cart,c=t.addItem,r=t.removeItem,s=e.reduce((function(t,e){return t+e.qty*e.variants[0].priceV2.amount}),0);return e?Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Shopping Cart"}),Object(n.jsxs)("table",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:"Name "}),Object(n.jsx)("th",{children:"Product Id"}),Object(n.jsx)("th",{children:"Quantity "}),Object(n.jsx)("th",{children:"Price "}),Object(n.jsx)("th",{children:"Total "})]}),Object(n.jsx)("tbody",{children:e.length>0?e.map((function(t,e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("img",{className:"image-cart",src:t.image.src})}),Object(n.jsxs)("td",{className:"cart-title",children:[t.title,Object(n.jsx)("br",{})]}),Object(n.jsx)("td",{children:t.id}),Object(n.jsxs)("td",{children:[Object(n.jsx)("button",{className:"plusminus",onClick:function(){return r(t)},children:"-"}),t.qty,Object(n.jsx)("button",{className:"plusminus",onClick:function(){return c(t)},children:"+"})]}),Object(n.jsxs)("td",{children:["\u20ac",t.variants[0].priceV2.amount]}),Object(n.jsxs)("td",{children:["\u20ac",(t.variants[0].priceV2.amount*t.qty).toFixed(2)]})]})})):"Your cart is empty"})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:["Total Price: \u20ac",s.toFixed(2)]}),Object(n.jsx)("p",{children:"Free Delivery"})]})]}):Object(n.jsx)("div",{children:"Loading..."})}),g=(c(41),function(t){var e=t.cartCount;return Object(n.jsx)("nav",{children:Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)(u.b,{to:"/",className:"logo",children:"PETSHOP"}),Object(n.jsx)("input",{className:"menu-btn",type:"checkbox",id:"menu-btn"}),Object(n.jsx)("label",{className:"menu-icon",for:"menu-btn",children:Object(n.jsx)("span",{className:"navicon"})}),Object(n.jsxs)("ul",{className:"menu",children:[Object(n.jsx)("li",{children:Object(n.jsx)(u.b,{to:"/",children:"SHOP"})}),Object(n.jsx)("li",{children:Object(n.jsxs)(u.b,{to:"/shoppingcart",children:["CART ",e||""]})})]})]})})}),N=JSON.parse(localStorage.getItem("shoppingCart")||"[]"),y=function(){var t=Object(r.useState)(N),e=Object(o.a)(t,2),c=e[0],s=e[1],a=function(t){console.log("added to cart",t);var e=c.find((function(e){return e.id===t.id}));s(e?c.map((function(c){return c.id===t.id?Object(j.a)(Object(j.a)({},e),{},{qty:e.qty+1}):c})):[].concat(Object(d.a)(c),[Object(j.a)(Object(j.a)({},t),{},{qty:1})]))},i=function(t){var e=c.find((function(e){return e.id===t.id}));1===e.qty?s(c.filter((function(e){return e.id!==t.id}))):s(c.map((function(c){return c.id===t.id?Object(j.a)(Object(j.a)({},e),{},{qty:e.qty-1}):c})))};return Object(r.useEffect)((function(){localStorage.setItem("shoppingCart",JSON.stringify(c))}),[c]),Object(n.jsx)(u.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(g,{cartCount:c.length}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(n.jsx)(m,{addItem:a})}}),Object(n.jsx)(l.a,{path:"/products/:productId",render:function(t){return Object(n.jsx)(f,Object(j.a)(Object(j.a)({},t),{},{addItem:a}))}}),Object(n.jsx)(l.a,{path:"/shoppingcart",render:function(t){return Object(n.jsx)(v,Object(j.a)(Object(j.a)({},t),{},{cart:c,addItem:a,removeItem:i}))}})]})]})})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.560dca39.chunk.js.map