{"version":3,"sources":["components/ProductsList/ProductsList.js","components/SearchBar/SearchBar.js","components/Products/Products.js","components/ProductDetails/ProductDetails.js","components/ShoppingCart/ShoppingCart.js","components/Navbar/Navbar.js","App.js","index.js"],"names":["ProductsList","products","addItem","searchText","console","log","filter","product","title","toLowerCase","includes","map","className","src","image","alt","to","pathname","id","state","variants","priceV2","amount","metadata","accentuate","ribbonText1","onClick","SearchBar","updateSearchText","placeholder","value","onChange","event","target","Products","useState","setProducts","setSearchText","fetchProducts","a","fetch","res","json","data","removeDuplicates","idx","self","findIndex","p","useEffect","text","sorted","sort","b","ProductDetails","location","subTitle","tags","tag","ShoppingCart","cart","removeItem","totalPrice","reduce","c","qty","length","i","toFixed","Navbar","cartCount","type","for","cartFromLocalStorage","JSON","parse","localStorage","getItem","App","setCart","exist","find","x","setItem","stringify","exact","path","render","props","ReactDOM","StrictMode","document","getElementById"],"mappings":"+WAyDeA,G,MApDM,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAEzC,OADAC,QAAQC,IAAI,UAAWJ,GAChBA,EACJK,QAAO,SAAAC,GACN,OAAOA,EAAQC,MAAMC,cAAcC,SAASP,MAE7CQ,KAAI,SAAAJ,GAAO,OACV,sBAAKK,UAAU,eAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,qBAAKC,IAAKN,EAAQO,MAAMD,IAAKE,IAAI,oBAEnC,sBAAKH,UAAU,eAAf,UACE,cAAC,IAAD,CACEI,GAAI,CACFC,SAAS,aAAD,OAAeV,EAAQW,IAC/BC,MAAO,CACLZ,YAJN,SAQGA,EAAQC,QAEX,sBAAKI,UAAU,QAAf,UACE,8BAAIL,EAAQa,SAAS,GAAGC,QAAQC,OAAhC,aACA,sBAAMV,UAAU,aAAhB,SACGL,EAAQgB,SAASC,WAAWC,iBAIjC,sBAAKb,UAAU,aAAf,UACE,wBACEA,UAAU,kBACVc,QAAS,kBAAMxB,EAAQK,IAFzB,yBAMA,cAAC,IAAD,CACES,GAAI,CACFC,SAAS,aAAD,OAAeV,EAAQW,IAC/BC,MAAO,CACLZ,YAJN,kCA7B6BA,EAAQW,SCSlCS,G,MAlBG,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,iBAAkBzB,EAAiB,EAAjBA,WACrC,OACE,8BACE,sBAAKS,UAAU,sBAAf,UACE,wCACA,uBACEA,UAAU,aACViB,YAAY,yBACZC,MAAO3B,EACP4B,SAAU,SAAAC,GACRJ,EAAiBI,EAAMC,OAAOH,iBC2D3BI,G,MAjEE,SAAC,GAAiB,IAAfhC,EAAc,EAAdA,QAAc,EACAiC,mBAAS,IADT,mBACzBlC,EADyB,KACfmC,EADe,OAEID,mBAAS,IAFb,mBAEzBhC,EAFyB,KAEbkC,EAFa,KAK1BC,EAAa,uCAAG,gCAAAC,EAAA,sEACFC,MAChB,sEAFkB,cACdC,EADc,gBAIDA,EAAIC,OAJH,OAIdC,EAJc,OAMdC,EAAmBD,EAAK1C,SAASK,QACrC,SAACC,EAASsC,EAAKC,GAAf,OAAwBA,EAAKC,WAAU,SAAAC,GAAC,OAAIA,EAAE9B,KAAOX,EAAQW,QAAQ2B,KAGvET,EAAYQ,GAVQ,2CAAH,qDAanBK,qBAAU,WACRX,MACC,IAuBH,OACE,qCACE,sBAAK1B,UAAU,uBAAf,UACE,cAAC,EAAD,CACEgB,iBARiB,SAAAsB,GACvBb,EAAca,IAQR/C,WAAYA,IAGd,wBAAQuB,QA5BU,WACtB,IAAMyB,EAAS,YAAIlD,GAAUmD,MAAK,SAACb,EAAGc,GACpC,OAAOA,EAAEjC,SAAS,GAAGC,QAAQC,OAASiB,EAAEnB,SAAS,GAAGC,QAAQC,UAG9Dc,EAAYe,IAuBR,wCACA,wBAAQzB,QApBQ,WACpB,IAAMyB,EAAS,YAAIlD,GAAUmD,MAAK,SAACb,EAAGc,GACpC,OAAOd,EAAEnB,SAAS,GAAGC,QAAQC,OAAS+B,EAAEjC,SAAS,GAAGC,QAAQC,UAE9Dc,EAAYe,IAgBR,0CAEF,qBAAKvC,UAAU,WAAf,SACE,cAAC,EAAD,CACEX,SAAUA,EACVC,QAASA,EACTC,WAAYA,WC/BPmD,G,MA9BQ,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,SAAUrD,EAAc,EAAdA,QAC1BK,EAAYgD,EAASpC,MAArBZ,QAER,OACE,8BACE,sBAAKK,UAAU,uBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,qBAAKC,IAAKN,EAAQO,MAAMD,IAAKE,IAAI,cAEnC,sBAAKH,UAAU,sBAAf,UACE,6BAAKL,EAAQC,QACb,4CAAeD,EAAQgB,SAASC,WAAWgC,YAC3C,+BAAKjD,EAAQa,SAAS,GAAGC,QAAQC,OAAjC,WAEA,wBAAQV,UAAU,kBAAkBc,QAAS,kBAAMxB,EAAQK,IAA3D,yBAIA,oBAAGK,UAAU,OAAb,kBACQ,IACLL,EAAQkD,KAAK9C,KAAI,SAAA+C,GAAG,OACnB,qCAAQA,EAAR,yBCiDCC,G,MAtEM,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,KAAM1D,EAA0B,EAA1BA,QAAS2D,EAAiB,EAAjBA,WAC/BC,EAAaF,EAAKG,QACtB,SAACxB,EAAGyB,GAAJ,OAAUzB,EAAIyB,EAAEC,IAAMD,EAAE5C,SAAS,GAAGC,QAAQC,SAC5C,GAGF,OAAKsC,EAKH,gCACE,+CACA,kCACE,+BACE,uBACA,uCACA,4CACA,2CACA,wCACA,2CAEF,gCACGA,EAAKM,OAAS,EACXN,EAAKjD,KAAI,SAACJ,EAAS4D,GAAV,OACP,+BACE,6BACE,qBAAKvD,UAAU,aAAaC,IAAKN,EAAQO,MAAMD,QAEjD,qBAAID,UAAU,aAAd,UACGL,EAAQC,MACT,0BAEF,6BAAKD,EAAQW,KACb,+BACE,wBACEN,UAAU,YACVc,QAAS,kBAAMmC,EAAWtD,IAF5B,eAMCA,EAAQ0D,IACT,wBACErD,UAAU,YACVc,QAAS,kBAAMxB,EAAQK,IAFzB,kBAOF,wCAAMA,EAAQa,SAAS,GAAGC,QAAQC,UAClC,yCAEIf,EAAQa,SAAS,GAAGC,QAAQC,OAASf,EAAQ0D,KAAKG,QAClD,YAKR,0BAIR,gCACE,qDAAmBN,EAAWM,QAAQ,MACtC,oDAzDG,+CCiBIC,G,MAxBA,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAChB,OACE,8BACE,yBAAQ1D,UAAU,SAAlB,UACE,cAAC,IAAD,CAAMI,GAAG,IAAIJ,UAAU,OAAvB,qBAGA,uBAAOA,UAAU,WAAW2D,KAAK,WAAWrD,GAAG,aAC/C,uBAAON,UAAU,YAAY4D,IAAI,WAAjC,SACE,sBAAM5D,UAAU,cAElB,qBAAIA,UAAU,OAAd,UACE,6BACE,cAAC,IAAD,CAAMI,GAAG,IAAT,oBAEF,6BACE,eAAC,IAAD,CAAMA,GAAG,gBAAT,kBAA+BsD,GAAwB,kBCX7DG,EAAuBC,KAAKC,MAChCC,aAAaC,QAAQ,iBAAmB,MAoE3BC,EAjEH,WAAM,MAEQ3C,mBAASsC,GAFjB,mBAETb,EAFS,KAEHmB,EAFG,KAKV7E,EAAU,SAAAK,GACdH,QAAQC,IAAI,gBAAiBE,GAC7B,IAAMyE,EAAQpB,EAAKqB,MAAK,SAAAC,GAAC,OAAIA,EAAEhE,KAAOX,EAAQW,MAE5C6D,EADEC,EAEApB,EAAKjD,KAAI,SAAAuE,GAAC,OACRA,EAAEhE,KAAOX,EAAQW,GAAjB,2BAA2B8D,GAA3B,IAAkCf,IAAKe,EAAMf,IAAM,IAAMiB,KAIrD,GAAD,mBAAKtB,GAAL,aAAC,eAAerD,GAAhB,IAAyB0D,IAAK,QAKnCJ,EAAa,SAAAtD,GACjB,IAAMyE,EAAQpB,EAAKqB,MAAK,SAAAC,GAAC,OAAIA,EAAEhE,KAAOX,EAAQW,MAC5B,IAAd8D,EAAMf,IACRc,EAAQnB,EAAKtD,QAAO,SAAA4E,GAAC,OAAIA,EAAEhE,KAAOX,EAAQW,OAE1C6D,EACEnB,EAAKjD,KAAI,SAAAuE,GAAC,OACRA,EAAEhE,KAAOX,EAAQW,GAAjB,2BAA2B8D,GAA3B,IAAkCf,IAAKe,EAAMf,IAAM,IAAMiB,OAWjE,OAJAjC,qBAAU,WACR2B,aAAaO,QAAQ,eAAgBT,KAAKU,UAAUxB,MACnD,CAACA,IAGF,cAAC,IAAD,UACE,sBAAKhD,UAAU,MAAf,UACE,cAAC,EAAD,CAAQ0D,UAAWV,EAAKM,SACxB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOmB,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM,cAAC,EAAD,CAAUrF,QAASA,OACvD,cAAC,IAAD,CACEoF,KAAK,uBACLC,OAAQ,SAAAC,GAAK,OAAI,cAAC,EAAD,2BAAoBA,GAApB,IAA2BtF,QAASA,QAEvD,cAAC,IAAD,CACEoF,KAAK,gBACLC,OAAQ,SAAAC,GAAK,OACX,cAAC,EAAD,2BACMA,GADN,IAEE5B,KAAMA,EACN1D,QAASA,EACT2D,WAAYA,iBChE5B4B,IAASF,OACP,cAAC,IAAMG,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.560dca39.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './productList.css';\n\nconst ProductsList = ({ products, addItem, searchText }) => {\n  console.log('product', products);\n  return products\n    .filter(product => {\n      return product.title.toLowerCase().includes(searchText);\n    })\n    .map(product => (\n      <div className=\"product-card\" key={product.id}>\n        <div className=\"product-image\">\n          <img src={product.image.src} alt=\"product.title\" />\n        </div>\n        <div className=\"product-info\">\n          <Link\n            to={{\n              pathname: `/products/${product.id}`,\n              state: {\n                product,\n              },\n            }}\n          >\n            {product.title}\n          </Link>\n          <div className=\"price\">\n            <p>{product.variants[0].priceV2.amount}€ </p>\n            <span className=\"ribbonText\">\n              {product.metadata.accentuate.ribbonText1}\n            </span>\n          </div>\n\n          <div className=\"card-links\">\n            <button\n              className=\"add-to-cart-btn\"\n              onClick={() => addItem(product)}\n            >\n              Add to cart\n            </button>\n            <Link\n              to={{\n                pathname: `/products/${product.id}`,\n                state: {\n                  product,\n                },\n              }}\n            >\n              View Details\n            </Link>\n          </div>\n        </div>\n      </div>\n    ));\n};\n\nexport default ProductsList;\n","import React from 'react';\nimport './searchbar.css';\n\nconst SearchBar = ({ updateSearchText, searchText }) => {\n  return (\n    <div>\n      <div className=\"search-for-products\">\n        <h3>Search</h3>\n        <input\n          className=\"search-bar\"\n          placeholder=\"Search for products...\"\n          value={searchText}\n          onChange={event => {\n            updateSearchText(event.target.value);\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import React, { useState, useEffect } from 'react';\n\nimport ProductsList from '../ProductsList/ProductsList';\nimport SearchBar from '../SearchBar/SearchBar';\n\nimport './products.css';\n\nconst Products = ({ addItem }) => {\n  const [products, setProducts] = useState([]);\n  const [searchText, setSearchText] = useState('');\n\n  // get product info\n  const fetchProducts = async () => {\n    const res = await fetch(\n      'https://pt-productfeed.s3.eu-central-1.amazonaws.com/products.json'\n    );\n    const data = await res.json();\n\n    const removeDuplicates = data.products.filter(\n      (product, idx, self) => self.findIndex(p => p.id === product.id) === idx\n    );\n\n    setProducts(removeDuplicates);\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  // sort products ascending\n  const sortByExpensive = () => {\n    const sorted = [...products].sort((a, b) => {\n      return b.variants[0].priceV2.amount - a.variants[0].priceV2.amount;\n    });\n\n    setProducts(sorted);\n  };\n\n  // sort products descending\n  const sortByCheaper = () => {\n    const sorted = [...products].sort((a, b) => {\n      return a.variants[0].priceV2.amount - b.variants[0].priceV2.amount;\n    });\n    setProducts(sorted);\n  };\n\n  const updateSearchText = text => {\n    setSearchText(text);\n  };\n\n  return (\n    <>\n      <div className=\"search-bar-container\">\n        <SearchBar\n          updateSearchText={updateSearchText}\n          searchText={searchText}\n        />\n\n        <button onClick={sortByExpensive}>Higher priced items ↑</button>\n        <button onClick={sortByCheaper}>Lower priced items ↓</button>\n      </div>\n      <div className=\"products\">\n        <ProductsList\n          products={products}\n          addItem={addItem}\n          searchText={searchText}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Products;\n","import React from 'react';\n\nimport './productDetails.css';\n\nconst ProductDetails = ({ location, addItem }) => {\n  const { product } = location.state;\n\n  return (\n    <div>\n      <div className=\"product-details-page\">\n        <div className=\"product-gallery\">\n          <img src={product.image.src} alt=\"product\" />\n        </div>\n        <div className=\"product-description\">\n          <h2>{product.title}</h2>\n          <h4>Subtitle: {product.metadata.accentuate.subTitle}</h4>\n          <h2>{product.variants[0].priceV2.amount} Euro</h2>\n\n          <button className=\"add-to-cart-btn\" onClick={() => addItem(product)}>\n            Add to Cart\n          </button>\n\n          <p className=\"tags\">\n            Tags:{' '}\n            {product.tags.map(tag => (\n              <span>'{tag}', </span>\n            ))}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetails;\n","import React from 'react';\n\nimport './shoppingCart.css';\n\nconst ShoppingCart = ({ cart, addItem, removeItem }) => {\n  const totalPrice = cart.reduce(\n    (a, c) => a + c.qty * c.variants[0].priceV2.amount,\n    0\n  );\n\n  if (!cart) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      <h1>Shopping Cart</h1>\n      <table>\n        <tr>\n          <th></th>\n          <th>Name </th>\n          <th>Product Id</th>\n          <th>Quantity </th>\n          <th>Price </th>\n          <th>Total </th>\n        </tr>\n        <tbody>\n          {cart.length > 0\n            ? cart.map((product, i) => (\n                <tr>\n                  <td>\n                    <img className=\"image-cart\" src={product.image.src} />\n                  </td>\n                  <td className=\"cart-title\">\n                    {product.title}\n                    <br />\n                  </td>\n                  <td>{product.id}</td>\n                  <td>\n                    <button\n                      className=\"plusminus\"\n                      onClick={() => removeItem(product)}\n                    >\n                      -\n                    </button>\n                    {product.qty}\n                    <button\n                      className=\"plusminus\"\n                      onClick={() => addItem(product)}\n                    >\n                      +\n                    </button>\n                  </td>\n                  <td>€{product.variants[0].priceV2.amount}</td>\n                  <td>\n                    €\n                    {(product.variants[0].priceV2.amount * product.qty).toFixed(\n                      2\n                    )}\n                  </td>\n                </tr>\n              ))\n            : 'Your cart is empty'}\n        </tbody>\n      </table>\n\n      <div>\n        <h1>Total Price: €{totalPrice.toFixed(2)}</h1>\n        <p>Free Delivery</p>\n      </div>\n    </div>\n  );\n};\n\nexport default ShoppingCart;\n","import React from 'react';\nimport './navbar.css';\nimport { Link } from 'react-router-dom';\n\nconst Navbar = ({ cartCount }) => {\n  return (\n    <nav>\n      <header className=\"header\">\n        <Link to=\"/\" className=\"logo\">\n          PETSHOP\n        </Link>\n        <input className=\"menu-btn\" type=\"checkbox\" id=\"menu-btn\" />\n        <label className=\"menu-icon\" for=\"menu-btn\">\n          <span className=\"navicon\"></span>\n        </label>\n        <ul className=\"menu\">\n          <li>\n            <Link to=\"/\">SHOP</Link>\n          </li>\n          <li>\n            <Link to=\"/shoppingcart\">CART {cartCount ? cartCount : ''}</Link>\n          </li>\n        </ul>\n      </header>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport './App.css';\n\nimport Products from './components/Products/Products';\nimport ProductDetails from './components/ProductDetails/ProductDetails';\nimport ShoppingCart from './components/ShoppingCart/ShoppingCart';\nimport Navbar from './components/Navbar/Navbar';\n\nconst cartFromLocalStorage = JSON.parse(\n  localStorage.getItem('shoppingCart') || '[]'\n);\n\nconst App = () => {\n  // State for shopping cart to keep them in localStorage\n  const [cart, setCart] = useState(cartFromLocalStorage);\n\n  // Add to cart functionality\n  const addItem = product => {\n    console.log('added to cart', product);\n    const exist = cart.find(x => x.id === product.id);\n    if (exist) {\n      setCart(\n        cart.map(x =>\n          x.id === product.id ? { ...exist, qty: exist.qty + 1 } : x\n        )\n      );\n    } else {\n      setCart([...cart, { ...product, qty: 1 }]);\n    }\n  };\n\n  // Remove item functionality\n  const removeItem = product => {\n    const exist = cart.find(x => x.id === product.id);\n    if (exist.qty === 1) {\n      setCart(cart.filter(x => x.id !== product.id));\n    } else {\n      setCart(\n        cart.map(x =>\n          x.id === product.id ? { ...exist, qty: exist.qty - 1 } : x\n        )\n      );\n    }\n  };\n\n  // Save shopping cart to localStorage\n  useEffect(() => {\n    localStorage.setItem('shoppingCart', JSON.stringify(cart));\n  }, [cart]);\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <Navbar cartCount={cart.length} />\n        <Switch>\n          <Route exact path=\"/\" render={() => <Products addItem={addItem} />} />\n          <Route\n            path=\"/products/:productId\"\n            render={props => <ProductDetails {...props} addItem={addItem} />}\n          />\n          <Route\n            path=\"/shoppingcart\"\n            render={props => (\n              <ShoppingCart\n                {...props}\n                cart={cart}\n                addItem={addItem}\n                removeItem={removeItem}\n              />\n            )}\n          />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}